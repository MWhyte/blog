<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Spring Security - User Roles and ThymeLeaf Extras</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css%3Fv=4a9492e5e9.css" />

    <link rel="canonical" href="index.html" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="amp/index.html" />
    
    <meta property="og:site_name" content="codenerve.com" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Spring Security - User Roles and ThymeLeaf Extras" />
    <meta property="og:description" content="[vc_row][vc_column][vc_column_text] Welcome! In this series, I hope to show you some techniques for using spring security and the broader spring ecosystem to build and develop secure application web servers.  In the last lesson, we learnt how to use spring security to build a basic" />
    <meta property="og:url" content="http://localhost:2368/spring-security-thymeleaf-extras/" />
    <meta property="og:image" content="http://localhost:2368/content/images/wordpress/2018/03/color-conifer-environment-192136.jpg" />
    <meta property="article:published_time" content="2019-04-30T22:18:14.000Z" />
    <meta property="article:modified_time" content="2020-06-09T22:36:32.000Z" />
    <meta property="article:publisher" content="https://www.facebook.com/ghost" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Spring Security - User Roles and ThymeLeaf Extras" />
    <meta name="twitter:description" content="[vc_row][vc_column][vc_column_text] Welcome! In this series, I hope to show you some techniques for using spring security and the broader spring ecosystem to build and develop secure application web servers.  In the last lesson, we learnt how to use spring security to build a basic" />
    <meta name="twitter:url" content="http://localhost:2368/spring-security-thymeleaf-extras/" />
    <meta name="twitter:image" content="http://localhost:2368/content/images/wordpress/2018/03/color-conifer-environment-192136.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Michael W" />
    <meta name="twitter:site" content="ghost" />
    <meta property="og:image:width" content="4608" />
    <meta property="og:image:height" content="3072" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "codenerve.com",
        "url": "http://localhost:2368/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://static.ghost.org/v1.0.0/images/ghost-logo.svg"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Michael W",
        "image": {
            "@type": "ImageObject",
            "url": "https://secure.gravatar.com/avatar/38fe2075db7c0586b2e0806c1d55d740?s=512&r=g",
            "width": 512,
            "height": 512
        },
        "url": "http://localhost:2368/author/mrwhyte/",
        "sameAs": []
    },
    "headline": "Spring Security - User Roles and ThymeLeaf Extras",
    "url": "http://localhost:2368/spring-security-thymeleaf-extras/",
    "datePublished": "2019-04-30T22:18:14.000Z",
    "dateModified": "2020-06-09T22:36:32.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:2368/content/images/wordpress/2018/03/color-conifer-environment-192136.jpg",
        "width": 4608,
        "height": 3072
    },
    "description": "[vc_row][vc_column][vc_column_text]Welcome!\nIn this series, I hope to show you some techniques for using spring security and\nthe broader spring ecosystem to build and develop secure application web\nservers.\n\nIn the last lesson, we learnt how to use spring security to build a basic login\nform [https://www.codenerve.com/spring-security-basic-login-form/].\n\nToday, we’ll be looking at adding user roles and some nice feature’s of the\nThymeleaf library to show and hide content based on these\nroles.[/v",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:2368/"
    }
}
    </script>

    <meta name="generator" content="Ghost 3.25" />
    <link rel="alternate" type="application/rss+xml" title="codenerve.com" href="../rss/index.html" />

</head>
<body class="post-template">

    <div class="site-wrapper">

        

<header class="site-header">
    <div class="outer site-nav-main">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left-wrapper">
        <div class="site-nav-left">
                <a class="site-nav-logo" href="../index.html"><img src="https://static.ghost.org/v1.0.0/images/ghost-logo.svg" alt="codenerve.com" /></a>
            <div class="site-nav-content">
                    <ul class="nav">
    <li class="nav-home"><a href="../index.html">Home</a></li>
    <li class="nav-tag"><a href="../tag/getting-started/index.html">Tag</a></li>
    <li class="nav-author"><a href="../author/ghost/index.html">Author</a></li>
    <li class="nav-help"><a href="https://ghost.org/docs/">Help</a></li>
</ul>

                    <span class="nav-post-title ">Spring Security - User Roles and ThymeLeaf Extras</span>
            </div>
        </div>
    </div>
    <div class="site-nav-right">
            <div class="social-links">
                    <a class="social-link social-link-fb" href="https://www.facebook.com/ghost" title="Facebook" target="_blank" rel="noopener"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0zm5.204 4.911h-3.546c-2.103 0-4.443.885-4.443 3.934.01 1.062 0 2.08 0 3.225h-2.433v3.872h2.509v11.147h4.61v-11.22h3.042l.275-3.81h-3.397s.007-1.695 0-2.187c0-1.205 1.253-1.136 1.329-1.136h2.054V4.911z" /></svg></a>
                    <a class="social-link social-link-tw" href="https://twitter.com/ghost" title="Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
            </div>
                <a class="rss-button" href="https://feedly.com/i/subscription/feed/http://localhost:2368/rss/" title="RSS" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
</a>

    </div>
</nav>
    </div>
</div></header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post ">

            <header class="post-full-header">


                <h1 class="post-full-title">Spring Security - User Roles and ThymeLeaf Extras</h1>


                <div class="post-full-byline">

                    <section class="post-full-byline-content">

                        <ul class="author-list">
                            <li class="author-list-item">

                                <div class="author-card">
                                    <img class="author-profile-image" src="https://secure.gravatar.com/avatar/38fe2075db7c0586b2e0806c1d55d740?s&#x3D;512&amp;r&#x3D;g" alt="Michael W" />
                                    <div class="author-info">
                                        <h2>Michael W</h2>
                                        <p>Read <a href="../author/mrwhyte/index.html">more posts</a> by this author.</p>
                                    </div>
                                </div>

                                <a href="../author/mrwhyte/index.html" class="author-avatar">
                                    <img class="author-profile-image" src="https://secure.gravatar.com/avatar/38fe2075db7c0586b2e0806c1d55d740?s&#x3D;512&amp;r&#x3D;g" alt="Michael W" />
                                </a>

                            </li>
                        </ul>

                        <section class="post-full-byline-meta">
                            <h4 class="author-name"><a href="../author/mrwhyte/index.html">Michael W</a></h4>
                            <div class="byline-meta-content">
                                <time class="byline-meta-date" datetime="2019-04-30">30 Apr 2019</time>
                                <span class="byline-reading-time"><span class="bull">&bull;</span> 4 min read</span>
                            </div>
                        </section>

                    </section>


                </div>
            </header>

            <figure class="post-full-image">
                <img
                    srcset="../content/images/size/w300/wordpress/2018/03/color-conifer-environment-192136.jpg 300w,
                           ../content/images/size/w600/wordpress/2018/03/color-conifer-environment-192136.jpgg 600w,
                          ../content/images/size/w1000/wordpress/2018/03/color-conifer-environment-192136.jpgpg 1000w,
                         ../content/images/size/w2000/wordpress/2018/03/color-conifer-environment-192136.jpgjpg 2000w"
                    sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px"
                    src="../content/images/size/w2000/wordpress/2018/03/color-conifer-environment-192136.jpg"
                    alt="Spring Security - User Roles and ThymeLeaf Extras"
                />
            </figure>

            <section class="post-full-content">
                <div class="post-content">
                    <!--kg-card-begin: html-->[vc_row][vc_column][vc_column_text]
<h2>Welcome!</h2>
<p>In this series, I hope to show you some techniques for using spring security and the broader spring ecosystem to build and develop secure application web servers.</p>
<p>In the last lesson, we learnt how to use spring security to build a <a href="https://www.codenerve.com/spring-security-basic-login-form/">basic login form</a>.</p>
<p>Today, we&#8217;ll be looking at adding user roles and some nice feature&#8217;s of the Thymeleaf library to show and hide content based on these roles.[/vc_column_text][us_separator][/vc_column][/vc_row][vc_row height=&#8221;auto&#8221;][vc_column][us_cta title=&#8221;Sample Code&#8221; color=&#8221;secondary&#8221; btn_label=&#8221;Code&#8221; btn_link=&#8221;url:https%3A%2F%2Fgithub.com%2FMWhyte%2Fspring-security%2Ftree%2F2.thymeleaf-extras||target:%20_blank|&#8221; btn_style=&#8221;2&#8243; btn_size=&#8221;15px&#8221; btn_icon=&#8221;fab|github&#8221;]The code for this lesson is available on GitHub[/us_cta][/vc_column][/vc_row][vc_row css=&#8221;%7B%22default%22%3A%7B%22margin-top%22%3A%220px%22%2C%22border-top-width%22%3A%220px%22%2C%22padding-top%22%3A%220px%22%7D%7D&#8221;][vc_column][us_separator show_line=&#8221;1&#8243; icon=&#8221;fas|leaf&#8221;][vc_column_text]Some files are already set up for you from the previous lesson: <a href="https://www.codenerve.com/spring-security-basic-login-form/">Spring Security &#8211; basic login form</a>. Please start here or check out the complete code from the link above.[/vc_column_text][us_separator show_line=&#8221;1&#8243; icon=&#8221;fas|leaf&#8221;][vc_column_text]
<h3>Dependencies</h3>
<p>As with all Spring boot application&#8217;s, there are a number of &#8216;Starter&#8217; libraries that make it easy to add jars to your classpath. In addition, these can auto-configure various spring beans and behaviours that we can make use of. Building upon the previous lesson we will be adding:</p>
<ul>
<li>thymeleaf-extras-springsecurity4 &#8211; this has a number of additional features over the basic thymeleaf jar.</li>
</ul>
[/vc_column_text][us_separator show_line=&#8221;1&#8243; icon=&#8221;fas|leaf&#8221;][vc_column_text]
<h3>WebSecurityConfig</h3>
<p>To begin this lesson we&#8217;ll be adding another user to our application&#8217;s WebSecurityConfig but this time giving them a new role &#8216;admin&#8217;:</p>
<p>WebSecurityConfig.java</p>
<pre class="lang:java decode:true ">    @Autowired
    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {
        auth
                .inMemoryAuthentication()
                .withUser("user").password("{noop}pass").roles("USER")
                .and()
                .withUser("admin").password("{noop}pass").roles("ADMIN");
    }</pre>
<p>&nbsp;</p>
<p>This now gives us two available user&#8217;s to log in with. Each is configured with a different role that we can now use to hide and show various content.[/vc_column_text][us_separator show_line=&#8221;1&#8243; icon=&#8221;fas|leaf&#8221;][vc_column_text]
<h3>Thymeleaf: Authorize</h3>
<p>Next, we&#8217;ll be using a Thymeleaf attribute sec:authorize to check a users roles before rendering div&#8217;s our index.html page.</p>
<p>To do this, go to the index.html page and add the following HTML inside the body tags:</p>
<pre class="lang:java decode:true">        &lt;div sec:authorize="hasRole('ADMIN')"&gt;
            This content is only shown to administrators.
        &lt;/div&gt;

        &lt;div sec:authorize="hasRole('USER')"&gt;
            This content is only shown to users.
        &lt;/div&gt;</pre>
<p>As you can see the sec:authorize attribute is added to each div, and we use something called the spring security dialect to check users spring security roles. Content will only be rendered if the logged-in user has that role. i.e. &#8216;hasRole&#8217; returns true.</p>
<p>It is important to note that content is not just hidden but will not be rendered at all when our application server returns the page to the browser.[/vc_column_text][us_separator show_line=&#8221;1&#8243; icon=&#8221;fas|leaf&#8221;][vc_column_text]
<h3>Thymeleaf: Authentication</h3>
<p>Another useful Thymeleaf feature is the &#8216;sec:authentication&#8217; attribute. This can return various security-related metadata. In the example below, we can retrieve the user&#8217;s username and roles and display these in our HTML.</p>
<pre class="lang:java decode:true">        &lt;div&gt;
            User: &lt;span sec:authentication="name"&gt;NOT FOUND&lt;/span&gt;
            Spring Roles: &lt;span sec:authentication="principal.authorities"&gt;NOT FOUND&lt;/span&gt;
        &lt;/div&gt;</pre>
<p>&nbsp;</p>
<p>For more useful attribute&#8217;s see the Thymeleaf documentation: <a href="https://github.com/thymeleaf/thymeleaf-extras-springsecurity" target="_blank" rel="noopener noreferrer">here</a>[/vc_column_text][us_separator show_line=&#8221;1&#8243; icon=&#8221;fas|leaf&#8221;][vc_column_text]
<h3>Demo</h3>
<p>To run the demo, open the <em>Application</em> class and right click run. In order to start the example, the port 8080 will need to be available on your machine. If it is not you can change this default in the application.properties file using:</p>
<pre class="lang:java decode:true">server.port=8081</pre>
<p>Set this to whatever value you wish.[/vc_column_text][vc_video link=&#8221;https://youtu.be/khAjDT9szTM&#8221; video_title=&#8221;1&#8243;][us_separator][vc_column_text]
<h3>Unit Testing</h3>
<p>We&#8217;ve added a few unit tests to cover this new functionality:</p>
<p>ApplicationTests.java</p>
<pre class="lang:java decode:true">	@Test
	@WithMockUser(roles = "USER")
	public void loginWithRoleUserThenExpectUserSpecificContent() throws Exception {
		mockMvc.perform(get("/index"))
				.andExpect(status().isOk())
				.andExpect(content().string(containsString("This content is only shown to users.")))
				.andExpect(content().string(doesNotContainString("This content is only shown to administrators.")));
	}

	@Test
	@WithMockUser(roles = "ADMIN")
	public void loginWithRoleAdminThenExpectAdminSpecificContent() throws Exception {
		mockMvc.perform(get("/index"))
				.andExpect(status().isOk())
				.andExpect(content().string(containsString("This content is only shown to administrators.")))
				.andExpect(content().string(doesNotContainString("This content is only shown to users.")));
	}

	private Matcher&lt;String&gt; doesNotContainString(String s) {
		return CoreMatchers.not(containsString(s));
	}</pre>
<p>&nbsp;</p>
<p>As you can see we&#8217;ve created a utility method <em>doesNotContainString. </em>Using this and Hamcrests <em>containsString </em>method, we can check that content is rendered (or not) based on a particular user role.[/vc_column_text][us_separator show_line=&#8221;1&#8243; icon=&#8221;fas|leaf&#8221;][vc_column_text]
<h3><a href="https://www.codenerve.com/spring-security-user-role-redirect/">Next</a></h3>
<p>Next up, we will be continuing to cover spring security&#8217;s user roles, but this time we will be redirecting admins to there own admin page (admin.html) and securing this page so that only admin users can access it.[/vc_column_text][/vc_column][/vc_row][vc_row][vc_column][us_post_navigation layout=&#8221;sided&#8221;][/vc_column][/vc_row]
<!--kg-card-end: html-->
                </div>
            </section>



        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">

                <article class="post-card post ">

    <a class="post-card-image-link" href="../spring-security-user-role-redirect/index.html">
        <img class="post-card-image"
            srcset="../content/images/size/w300/wordpress/2018/04/green-green-leaf-nature-66869.jpg 300w,
                   ../content/images/size/w600/wordpress/2018/04/green-green-leaf-nature-66869.jpgg 600w,
                  ../content/images/size/w1000/wordpress/2018/04/green-green-leaf-nature-66869.jpgpg 1000w,
                 ../content/images/size/w2000/wordpress/2018/04/green-green-leaf-nature-66869.jpgjpg 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            loading="lazy"
            src="../content/images/size/w600/wordpress/2018/04/green-green-leaf-nature-66869.jpg"
            alt="Spring Security - Redirect based on User Roles"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../spring-security-user-role-redirect/index.html">

            <header class="post-card-header">
                <h2 class="post-card-title">Spring Security - Redirect based on User Roles</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>[vc_row][vc_column][vc_column_text] Introduction Welcome! In this series, I hope to show you some techniques for using spring security and the larger spring ecosystem to build</p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
            
                    <div class="author-name-tooltip">
                        Michael W
                    </div>
            
                    <a href="../author/mrwhyte/index.html" class="static-avatar">
                        <img class="author-profile-image" src="https://secure.gravatar.com/avatar/38fe2075db7c0586b2e0806c1d55d740?s&#x3D;512&amp;r&#x3D;g" alt="Michael W" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="../author/mrwhyte/index.html">Michael W</a></span>
                <span class="post-card-byline-date"><time datetime="2019-05-03">3 May 2019</time> <span class="bull">&bull;</span> 4 min read</span>
            </div>
        </footer>

    </div>

</article>

                <article class="post-card post ">

    <a class="post-card-image-link" href="../spring-security-basic-login-form/index.html">
        <img class="post-card-image"
            srcset="../content/images/size/w300/wordpress/2018/01/blade-blur-dew-212324.jpg 300w,
                   ../content/images/size/w600/wordpress/2018/01/blade-blur-dew-212324.jpgg 600w,
                  ../content/images/size/w1000/wordpress/2018/01/blade-blur-dew-212324.jpgpg 1000w,
                 ../content/images/size/w2000/wordpress/2018/01/blade-blur-dew-212324.jpgjpg 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            loading="lazy"
            src="../content/images/size/w600/wordpress/2018/01/blade-blur-dew-212324.jpg"
            alt="Spring Security - Basic Login Form"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../spring-security-basic-login-form/index.html">

            <header class="post-card-header">
                <h2 class="post-card-title">Spring Security - Basic Login Form</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>[vc_row][vc_column][vc_column_text] Welcome! In this series, I hope to show you some techniques for using spring security and the broader spring ecosystem to build and</p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
            
                    <div class="author-name-tooltip">
                        Michael W
                    </div>
            
                    <a href="../author/mrwhyte/index.html" class="static-avatar">
                        <img class="author-profile-image" src="https://secure.gravatar.com/avatar/38fe2075db7c0586b2e0806c1d55d740?s&#x3D;512&amp;r&#x3D;g" alt="Michael W" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="../author/mrwhyte/index.html">Michael W</a></span>
                <span class="post-card-byline-date"><time datetime="2019-04-25">25 Apr 2019</time> <span class="bull">&bull;</span> 5 min read</span>
            </div>
        </footer>

    </div>

</article>
        </div>
    </div>
</aside>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="../index.html">codenerve.com</a> &copy; 2020</section>
                <nav class="site-footer-nav">
                    <a href="../index.html">Latest Posts</a>
                    <a href="https://www.facebook.com/ghost" target="_blank" rel="noopener">Facebook</a>
                    <a href="https://twitter.com/ghost" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="../assets/built/casper.js%3Fv=4a9492e5e9"></script>

    <script>
        // Parse the URL parameter
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        // Give the parameter a variable name
        var action = getParameterByName('action');

        $(document).ready(function () {
            if (action == 'subscribe') {
                $('body').addClass("subscribe-success");
            }

            $('.subscribe-success-message .subscribe-close').click(function () {
                $('.subscribe-success-message').addClass('close');
            });

            // Reset form on opening subscrion overlay
            $('.subscribe-button').click(function() {
                $('.subscribe-overlay form').removeClass();
                $('.subscribe-email').val('');
            });
        });
    </script>

    <script>
    $(document).ready(function () {
        // FitVids - start
        var $postContent = $(".post-full-content");
        $postContent.fitVids();
        // FitVids - end

        // Replace nav with title on scroll - start
        Casper.stickyNavTitle({
            navSelector: '.site-nav-main',
            titleSelector: '.post-full-title',
            activeClass: 'nav-post-title-active'
        });
        // Replace nav with title on scroll - end

        // Hover on avatar
        var hoverTimeout;
        $('.author-list-item').hover(function () {
            var $this = $(this);

            clearTimeout(hoverTimeout);

            $('.author-card').removeClass('hovered');
            $(this).children('.author-card').addClass('hovered');

        }, function () {
            var $this = $(this);

            hoverTimeout = setTimeout(function () {
                $this.children('.author-card').removeClass('hovered');
            }, 800);
        });
    });
</script>


    

</body>
</html>
